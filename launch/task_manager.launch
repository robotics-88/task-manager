<launch>
    <arg name="mavros_map_frame" default="map"/>
    <arg name="slam_map_frame" default="slam_map"/>
    <arg name="slam_pose_topic" default="/decco/pose"/>
    <arg name="goal_topic" default="/mavros/setpoint_position/local"/> <!-- for mavros without OA, use /mavros/setpoint_position/local. default is /goal.-->

    <arg name="default_altitude_m" default="3.0"/> 

    <!-- Health topics -->
    <arg name="costmap_topic" default="/costmap_node/costmap/costmap_updates"/>
    <arg name="lidar_topic" default="/livox/lidar"/>
    <arg name="mapir_topic" default="/mapir_rgn/image_rect"/>
    <arg name="rosbag_topic" default="/record/heartbeat"/>

     <!-- Record -->
    <arg name="do_record" default="true"/>

    <arg name="simulate" default="false"/>
    
    <node pkg="task_manager_88" type="task_manager" name="task_manager" output="screen">
        <param name="goal_topic" value="$(arg goal_topic)"/>
        <param name="do_record" value="$(arg do_record)"/>
        <param name="mavros_map_frame" value="$(arg mavros_map_frame)"/>
        <param name="slam_map_frame" value="$(arg slam_map_frame)"/>
        <param name="slam_pose_topic" value="$(arg slam_pose_topic)"/>
        <param name="costmap_topic" value="$(arg costmap_topic)"/>
        <param name="lidar_topic" value="$(arg lidar_topic)"/>
        <param name="mapir_topic" value="$(arg mapir_topic)"/>
        <param name="rosbag_topic" value="$(arg rosbag_topic)"/>
        <param name="default_altitude_m" value="$(arg default_altitude_m)"/>

        <param name="imu_rate" value="50"/>
        <param name="local_pos_rate" value="30"/>

        <param name="simulate" value="$(arg simulate)"/>
    </node>
</launch>